(()=>{var e={};e.id=116,e.ids=[116],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},51349:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>t.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>o}),r(47878),r(32029),r(35866);var n=r(23191),l=r(88716),a=r(37922),t=r.n(a),i=r(95231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);r.d(s,d);let o=["",{children:["dashboard",{children:["meta-config",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,47878)),"C:\\Users\\CODING\\Documents\\NEWERA\\VENDEBOT\\vendebot\\src\\app\\dashboard\\meta-config\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,32029)),"C:\\Users\\CODING\\Documents\\NEWERA\\VENDEBOT\\vendebot\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\CODING\\Documents\\NEWERA\\VENDEBOT\\vendebot\\src\\app\\dashboard\\meta-config\\page.tsx"],x="/dashboard/meta-config/page",u={require:r,loadChunk:()=>Promise.resolve()},m=new n.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/dashboard/meta-config/page",pathname:"/dashboard/meta-config",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},33738:(e,s,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},31363:()=>{},76529:(e,s,r)=>{Promise.resolve().then(r.bind(r,44093))},44093:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>i});var n=r(10326),l=r(17577),a=r(29752),t=r(91664);function i(){let[e,s]=(0,l.useState)({businessAccountId:"",accessToken:"",phoneNumberId:"",businessPhone:"+56979171217"}),[r,i]=(0,l.useState)(!1),[d,o]=(0,l.useState)(!1),[c,x]=(0,l.useState)(null),[u,m]=(0,l.useState)(null),h=async()=>{if(!e.accessToken||!e.phoneNumberId){alert("Por favor ingresa Access Token y Phone Number ID primero");return}o(!0),x(null);try{let s=await fetch("/api/business/validate-meta",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accessToken:e.accessToken,phoneNumberId:e.phoneNumberId})}),r=await s.json();x(r)}catch(e){console.error("Error:",e),x({valid:!1,error:"Error de conexi\xf3n",details:"No se pudo validar las credenciales"})}finally{o(!1)}},g=async s=>{s.preventDefault(),i(!0),m(null);try{let s=await fetch("/api/business/meta-config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,webhookVerifyToken:"vendebot_webhook_2025_secure_token",userId:"demo-user-id"})}),r=await s.json();m(r),r.success&&alert("✅ \xa1Meta WhatsApp Business configurado correctamente!")}catch(e){console.error("Error:",e),m({error:"Error de conexi\xf3n"})}finally{i(!1)}};return n.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,n.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,n.jsxs)("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"\uD83D\uDCF1 Configurar Meta WhatsApp Business"}),n.jsx("p",{className:"text-xl text-gray-600",children:"Conecta tu n\xfamero de WhatsApp Business verificado con VendeBot"})]}),(0,n.jsxs)(a.Zb,{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"\uD83D\uDCCB Antes de empezar"}),(0,n.jsxs)("div",{className:"space-y-4 text-lg text-gray-700",children:[(0,n.jsxs)("div",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"text-green-600 font-bold",children:"✅"}),n.jsx("span",{children:"Tu n\xfamero de WhatsApp debe estar verificado en Meta Business Manager"})]}),(0,n.jsxs)("div",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"text-green-600 font-bold",children:"✅"}),n.jsx("span",{children:"Debes tener una aplicaci\xf3n creada en Meta for Developers"})]}),(0,n.jsxs)("div",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"text-blue-600 font-bold",children:"\uD83D\uDCF1"}),n.jsx("span",{children:"Necesitas obtener las credenciales desde Meta Business Manager"})]})]})]}),(0,n.jsxs)(a.Zb,{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"\uD83D\uDD11 Credenciales de Meta"}),(0,n.jsxs)("form",{onSubmit:g,className:"space-y-6",children:["            ",(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-lg font-semibold text-gray-900 mb-2",children:"\uD83C\uDFE2 Business Account ID"}),n.jsx("input",{type:"text",required:!0,className:"w-full px-4 py-3 text-lg border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ej: 123456789012345 (solo n\xfameros)",value:e.businessAccountId,onChange:r=>s({...e,businessAccountId:r.target.value})}),(0,n.jsxs)("div",{className:"mt-2 p-3 bg-blue-50 rounded-lg",children:[n.jsx("p",{className:"text-blue-800 font-semibold",children:"\uD83D\uDCCD \xbfD\xf3nde encontrarlo?"}),(0,n.jsxs)("ol",{className:"text-blue-700 text-sm mt-1 space-y-1",children:[(0,n.jsxs)("li",{children:["1. Ve a ",n.jsx("strong",{children:"business.facebook.com"})]}),(0,n.jsxs)("li",{children:["2. Clic en ⚙️ ",n.jsx("strong",{children:'"Configuraci\xf3n de la empresa"'})]}),(0,n.jsxs)("li",{children:["3. Clic en ",n.jsx("strong",{children:'"Informaci\xf3n de la empresa"'})]}),n.jsx("li",{children:"4. Copia el ID que aparece bajo el nombre"})]})]})]}),"            ",(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-lg font-semibold text-gray-900 mb-2",children:"\uD83D\uDD11 Access Token (Permanente)"}),n.jsx("input",{type:"password",required:!0,className:"w-full px-4 py-3 text-lg border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ej: EAA... (empieza con EAA)",value:e.accessToken,onChange:r=>s({...e,accessToken:r.target.value})}),(0,n.jsxs)("div",{className:"mt-2 p-3 bg-green-50 rounded-lg",children:[n.jsx("p",{className:"text-green-800 font-semibold",children:"\uD83D\uDCCD \xbfD\xf3nde encontrarlo?"}),(0,n.jsxs)("ol",{className:"text-green-700 text-sm mt-1 space-y-1",children:[(0,n.jsxs)("li",{children:["1. Ve a ",n.jsx("strong",{children:"developers.facebook.com"})]}),(0,n.jsxs)("li",{children:["2. Crea una app tipo ",n.jsx("strong",{children:'"Empresa"'})]}),(0,n.jsxs)("li",{children:["3. Agrega ",n.jsx("strong",{children:'"WhatsApp Business"'})]}),(0,n.jsxs)("li",{children:["4. Ve a ",n.jsx("strong",{children:'"API Setup"'})]}),(0,n.jsxs)("li",{children:["5. Genera ",n.jsx("strong",{children:'"Access Token Permanente"'})]})]}),n.jsx("p",{className:"text-red-600 font-semibold mt-2",children:"⚠️ \xa1MANT\xc9N ESTE TOKEN SECRETO!"})]})]}),"            ",(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-lg font-semibold text-gray-900 mb-2",children:"\uD83D\uDCF1 Phone Number ID"}),n.jsx("input",{type:"text",required:!0,className:"w-full px-4 py-3 text-lg border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ej: 987654321098765 (n\xfamero largo)",value:e.phoneNumberId,onChange:r=>s({...e,phoneNumberId:r.target.value})}),(0,n.jsxs)("div",{className:"mt-2 p-3 bg-purple-50 rounded-lg",children:[n.jsx("p",{className:"text-purple-800 font-semibold",children:"\uD83D\uDCCD \xbfD\xf3nde encontrarlo?"}),(0,n.jsxs)("ol",{className:"text-purple-700 text-sm mt-1 space-y-1",children:[n.jsx("li",{children:"1. En tu app de WhatsApp Business"}),(0,n.jsxs)("li",{children:["2. Ve a ",n.jsx("strong",{children:'"API Setup"'})]}),(0,n.jsxs)("li",{children:["3. Busca la secci\xf3n ",n.jsx("strong",{children:'"From"'})]}),n.jsx("li",{children:"4. Copia el ID debajo de tu n\xfamero de tel\xe9fono"})]})]})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{className:"block text-lg font-semibold text-gray-900 mb-2",children:"N\xfamero de WhatsApp Business"}),n.jsx("input",{type:"tel",required:!0,className:"w-full px-4 py-3 text-lg border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ej: +56912345678",value:e.businessPhone,onChange:r=>s({...e,businessPhone:r.target.value})}),n.jsx("p",{className:"text-gray-600 mt-1",children:"\uD83D\uDCF1 Tu n\xfamero de WhatsApp verificado (incluye c\xf3digo de pa\xeds)"})]}),"            ",(0,n.jsxs)("div",{className:"flex gap-4",children:[n.jsx(t.z,{type:"button",variant:"secondary",size:"large",disabled:d||!e.accessToken||!e.phoneNumberId,onClick:h,className:"flex-1",children:d?"\uD83D\uDD0D Validando...":"\uD83E\uDDEA Validar Credenciales"}),n.jsx(t.z,{type:"submit",variant:"primary",size:"large",disabled:r||d,className:"flex-1",children:r?"⏳ Configurando...":"\uD83D\uDE80 Configurar WhatsApp Business"})]})]})]}),c&&n.jsx(a.Zb,{className:"mt-6",children:c.valid?(0,n.jsxs)("div",{children:[n.jsx("h3",{className:"text-2xl font-bold text-green-800 mb-4",children:"✅ \xa1Credenciales V\xe1lidas!"}),(0,n.jsxs)("div",{className:"space-y-3",children:[c.phoneInfo&&(0,n.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-green-800",children:"\uD83D\uDCF1 Informaci\xf3n del N\xfamero:"}),(0,n.jsxs)("ul",{className:"text-green-700 mt-2 space-y-1",children:[(0,n.jsxs)("li",{children:[n.jsx("strong",{children:"N\xfamero:"})," ",c.phoneInfo.displayPhoneNumber]}),(0,n.jsxs)("li",{children:[n.jsx("strong",{children:"Nombre verificado:"})," ",c.phoneInfo.verifiedName]}),(0,n.jsxs)("li",{children:[n.jsx("strong",{children:"ID:"})," ",c.phoneInfo.id]})]})]}),(0,n.jsxs)("div",{children:[n.jsx("h4",{className:"font-semibold text-green-800",children:"\uD83C\uDFAF Pr\xf3ximos pasos:"}),n.jsx("ol",{className:"list-decimal list-inside text-green-700 mt-2 space-y-1",children:c.nextSteps?.map((e,s)=>n.jsx("li",{children:e},s))})]})]})]}):(0,n.jsxs)("div",{children:[n.jsx("h3",{className:"text-2xl font-bold text-red-800 mb-4",children:"❌ Error de Validaci\xf3n"}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg",children:[(0,n.jsxs)("p",{className:"text-red-700",children:[n.jsx("strong",{children:"Error:"})," ",c.error]}),c.details&&(0,n.jsxs)("p",{className:"text-red-600 mt-1",children:[n.jsx("strong",{children:"Detalles:"})," ",c.details]})]}),c.suggestions&&(0,n.jsxs)("div",{children:[n.jsx("h4",{className:"font-semibold text-red-800",children:"\uD83D\uDCA1 Sugerencias:"}),n.jsx("ul",{className:"list-disc list-inside text-red-700 mt-2 space-y-1",children:c.suggestions.map((e,s)=>n.jsx("li",{children:e},s))})]})]})]})}),u&&n.jsx(a.Zb,{className:"mt-8",children:u.success?(0,n.jsxs)("div",{children:[n.jsx("h3",{className:"text-2xl font-bold text-green-800 mb-4",children:"✅ \xa1Configuraci\xf3n Exitosa!"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"\uD83D\uDCCB Pr\xf3ximos pasos:"}),n.jsx("ol",{className:"list-decimal list-inside space-y-2 text-gray-700 mt-2",children:u.nextSteps?.map((e,s)=>n.jsx("li",{children:e},s))})]}),u.webhookConfig&&(0,n.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"text-lg font-semibold text-blue-900 mb-2",children:"\uD83D\uDD17 Configuraci\xf3n del Webhook"}),(0,n.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,n.jsxs)("div",{children:[n.jsx("strong",{children:"URL:"})," ",n.jsx("code",{className:"bg-blue-100 px-2 py-1 rounded",children:u.webhookConfig.url})]}),(0,n.jsxs)("div",{children:[n.jsx("strong",{children:"Verify Token:"})," ",n.jsx("code",{className:"bg-blue-100 px-2 py-1 rounded",children:u.webhookConfig.verifyToken})]}),(0,n.jsxs)("div",{children:[n.jsx("strong",{children:"Fields:"})," ",u.webhookConfig.fields.join(", ")]})]})]})]})]}):(0,n.jsxs)("div",{children:[n.jsx("h3",{className:"text-2xl font-bold text-red-800 mb-4",children:"❌ Error en la Configuraci\xf3n"}),n.jsx("p",{className:"text-red-700",children:u.error})]})}),"        ",(0,n.jsxs)(a.Zb,{className:"mt-8",children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"❓ Enlaces Directos"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"\uD83C\uDFE2 Meta Business Manager"}),n.jsx("p",{className:"text-gray-600 mb-3",children:"Para obtener Business Account ID"}),n.jsx(t.z,{type:"button",variant:"secondary",size:"medium",className:"w-full",onClick:()=>window.open("https://business.facebook.com","_blank"),children:"\uD83D\uDD17 Abrir Business Manager"})]}),(0,n.jsxs)("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"\uD83D\uDC68‍\uD83D\uDCBB Meta for Developers"}),n.jsx("p",{className:"text-gray-600 mb-3",children:"Para crear app y obtener tokens"}),n.jsx(t.z,{type:"button",variant:"secondary",size:"medium",className:"w-full",onClick:()=>window.open("https://developers.facebook.com","_blank"),children:"\uD83D\uDD17 Abrir Developers"})]})]}),(0,n.jsxs)("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg",children:[n.jsx("h4",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"\uD83D\uDCCB Orden recomendado:"}),(0,n.jsxs)("ol",{className:"list-decimal list-inside text-yellow-700 space-y-1",children:[(0,n.jsxs)("li",{children:["Obt\xe9n ",n.jsx("strong",{children:"Business Account ID"})," desde Business Manager"]}),(0,n.jsxs)("li",{children:["Crea app en Developers y obt\xe9n ",n.jsx("strong",{children:"Access Token"})]}),(0,n.jsxs)("li",{children:["Copia ",n.jsx("strong",{children:"Phone Number ID"})," desde la misma app"]}),n.jsx("li",{children:"Ingresa todo aqu\xed y configura"})]})]})]})]})})}},91664:(e,s,r)=>{"use strict";r.d(s,{z:()=>a});var n=r(10326);r(17577);var l=r(41135);function a({variant:e="primary",size:s="large",children:r,onClick:a,disabled:t=!1,type:i="button",className:d}){return n.jsx("button",{type:i,onClick:a,disabled:t,className:(0,l.W)("font-semibold rounded-lg transition-colors focus:outline-none focus:ring-4 focus:ring-opacity-50 shadow-md",{large:"px-8 py-4 text-lg min-h-[56px]",medium:"px-6 py-3 text-base min-h-[48px]",small:"px-4 py-2 text-sm min-h-[40px]"}[s],{primary:"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-300 disabled:bg-blue-300",secondary:"bg-gray-200 hover:bg-gray-300 text-gray-900 focus:ring-gray-300 disabled:bg-gray-100",success:"bg-green-600 hover:bg-green-700 text-white focus:ring-green-300 disabled:bg-green-300",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-300 disabled:bg-red-300"}[e],t&&"cursor-not-allowed opacity-60",d),children:r})}},29752:(e,s,r)=>{"use strict";r.d(s,{ZP:()=>i,Zb:()=>a,i9:()=>t});var n=r(10326);r(17577);var l=r(41135);function a({children:e,className:s,padding:r="large",shadow:a=!0}){return n.jsx("div",{className:(0,l.W)("bg-white rounded-lg border border-gray-200",a&&"shadow-lg",{none:"",small:"p-4",medium:"p-6",large:"p-8"}[r],s),children:e})}function t({title:e,value:s,trend:r,icon:t,color:i="blue"}){return(0,n.jsxs)(a,{className:(0,l.W)("text-center",{blue:"bg-blue-50 border-blue-200",green:"bg-green-50 border-green-200",yellow:"bg-yellow-50 border-yellow-200",red:"bg-red-50 border-red-200"}[i]),padding:"medium",children:[t&&n.jsx("div",{className:(0,l.W)("text-4xl mb-2",{blue:"text-blue-600",green:"text-green-600",yellow:"text-yellow-600",red:"text-red-600"}[i]),children:t}),n.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:e}),n.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:s}),r&&n.jsx("div",{className:"text-sm text-gray-600",children:r})]})}let i=({title:e,description:s,imageUrl:r,footer:l})=>(0,n.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[r&&n.jsx("img",{src:r,alt:e,className:"w-full h-48 object-cover"}),(0,n.jsxs)("div",{className:"p-4",children:[n.jsx("h2",{className:"text-xl font-semibold",children:e}),n.jsx("p",{className:"text-gray-700",children:s})]}),l&&n.jsx("div",{className:"bg-gray-100 p-4",children:l})]})},47878:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>n});let n=(0,r(68570).createProxy)(String.raw`C:\Users\CODING\Documents\NEWERA\VENDEBOT\vendebot\src\app\dashboard\meta-config\page.tsx#default`)},32029:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>i,metadata:()=>t});var n=r(19510),l=r(25384),a=r.n(l);r(5023);let t={title:"VendeBot - WhatsApp Business Assistant",description:"Automatiza las respuestas de WhatsApp para tu negocio"};function i({children:e}){return n.jsx("html",{lang:"es",children:n.jsx("body",{className:a().className,children:e})})}},5023:()=>{},41135:(e,s,r)=>{"use strict";function n(){for(var e,s,r=0,n="",l=arguments.length;r<l;r++)(e=arguments[r])&&(s=function e(s){var r,n,l="";if("string"==typeof s||"number"==typeof s)l+=s;else if("object"==typeof s){if(Array.isArray(s)){var a=s.length;for(r=0;r<a;r++)s[r]&&(n=e(s[r]))&&(l&&(l+=" "),l+=n)}else for(n in s)s[n]&&(l&&(l+=" "),l+=n)}return l}(e))&&(n&&(n+=" "),n+=s);return n}r.d(s,{W:()=>n})}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),n=s.X(0,[276,349],()=>r(51349));module.exports=n})();